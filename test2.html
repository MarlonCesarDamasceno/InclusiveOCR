<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OCR com JavaScript Puro</title>
</head>
<body>

<input type="file" id="inputImage" accept="image/*">
<button onclick="extractText()">Extrair Texto</button>
<div id="output"></div>

<script>
    function extractText() {
        const inputImage = document.getElementById('inputImage');
        const outputDiv = document.getElementById('output');

        if (inputImage.files.length > 0) {
            const imageFile = inputImage.files[0];
            const reader = new FileReader();

            reader.onload = function (e) {
                const imageDataURL = e.target.result;

                // Cria uma imagem no DOM
                const img = document.createElement('img');
                img.src = imageDataURL;

                // Adiciona a imagem ao DOM (pode ser removida posteriormente)
                document.body.appendChild(img);

                // Usa uma abordagem básica para extração de texto (substitua por um algoritmo mais avançado se necessário)
                const extractedText = basicTextExtraction(img);
                outputDiv.innerText = 'Texto extraído: ' + extractedText;

                // Remove a imagem do DOM após a extração
                document.body.removeChild(img);
            };

            reader.readAsDataURL(imageFile);
        } else {
            outputDiv.innerText = 'Por favor, selecione uma imagem.';
        }
    }

    function basicTextExtraction(imgElement) {
        // Implemente um algoritmo de extração de texto adequado para suas necessidades
        // Aqui, estou usando uma abordagem simples que usa o valor do atributo 'alt' da imagem (pode ser substituído por algo mais avançado)
        return imgElement.alt || '';
    }
</script>

</body>
</html>